library(tidyverse)
dat <- read_csv(here("csse_covid_19_data", "csse_covid_19_time_series", "time_series_19-covid-Confirmed.csv"))
library(tidyverse)
library(here)
dat <- read_csv(here("csse_covid_19_data", "csse_covid_19_time_series", "time_series_19-covid-Confirmed.csv"))
View(dat)
china <- dat %>%
filter(`Country/Region` == "Mainland China")
View(china)
china <- dat %>%
filter(`Country/Region` == "Mainland China") %>%
select(-c(`Country/Region`, Lat, Long))
View(china)
china <- dat %>%
filter(`Country/Region` == "Mainland China") %>%
select(-c(`Country/Region`, Lat, Long)) %>%
pivot_longer(-`Province/State`)
View(china)
china <- dat %>%
filter(`Country/Region` == "Mainland China") %>%
select(-c(`Country/Region`, Lat, Long)) %>%
pivot_longer(-`Province/State`,
names_to = "date",
values_to = "confirmed")
china <- dat %>%
filter(`Country/Region` == "Mainland China") %>%
select(-c(`Country/Region`, Lat, Long)) %>%
pivot_longer(-`Province/State`,
names_to = "date",
values_to = "confirmed") %>%
group_by(date) %>%
summarise(confirmed = sum(confirmed))
here <- here::here
hubei <- dat %>%
filter(`Province/State` == "Hubei") %>%
select(-c(`Country/Region`, Lat, Long))
View(hubei)
hubei <- dat %>%
filter(`Province/State` == "Hubei") %>%
select(-c(`Country/Region`, Lat, Long, `Province/State`)) %>%
pivot_longer(names_to = "date",
values_to = "confirmed")
hubei <- dat %>%
filter(`Province/State` == "Hubei") %>%
select(-c(`Country/Region`, Lat, Long, `Province/State`)) %>%
pivot_longer(everything(),
names_to = "date",
values_to = "confirmed") %>%
group_by(date) %>%
summarise(confirmed = sum(confirmed))
View(hubei)
china <- dat %>%
filter(`Country/Region` == "Mainland China") %>%
select(-c(`Country/Region`, Lat, Long)) %>%
pivot_longer(-`Province/State`,
names_to = "date",
values_to = "confirmed")
View(china)
hubei <- china %>%
filter(`Province/State` == "Hubei")
View(hubei)
death <- read_csv(here("csse_covid_19_data", "csse_covid_19_time_series", "time_series_19-covid-Deaths.csv"))
View(death)
View(china)
china_death <- death %>%
filter(`Country/Region` == "Mainland China") %>%
select(-c(`Country/Region`, Lat, Long)) %>%
pivot_longer(-`Province/State`,
names_to = "date",
values_to = "death")
View(china_death)
china_confirmed1 <- china_confirmed %>%
group_by(date) %>%
summarise(confirmed = sum(confirmed))
china_confirmed <- confirmed %>%
filter(`Country/Region` == "Mainland China") %>%
select(-c(`Country/Region`, Lat, Long)) %>%
pivot_longer(-`Province/State`,
names_to = "date",
values_to = "confirmed")
confirmed <- read_csv(here("csse_covid_19_data", "csse_covid_19_time_series", "time_series_19-covid-Confirmed.csv"))
death <- read_csv(here("csse_covid_19_data", "csse_covid_19_time_series", "time_series_19-covid-Deaths.csv"))
china_confirmed <- confirmed %>%
filter(`Country/Region` == "Mainland China") %>%
select(-c(`Country/Region`, Lat, Long)) %>%
pivot_longer(-`Province/State`,
names_to = "date",
values_to = "confirmed")
china_confirmed1 <- china_confirmed %>%
group_by(date) %>%
summarise(confirmed = sum(confirmed))
View(china_confirmed1)
View(china_confirmed)
View(china_death)
china <- left_join(
china_confirmed,
china_death,
by = c("date", "Province/State")
)
View(china)
china <- left_join(
china_confirmed,
china_death,
by = c("date", "Province/State")
) %>%
mutate(date = mdy(date))
library(lubridate)
library(here)
here <- here::here
china <- left_join(
china_confirmed,
china_death,
by = c("date", "Province/State")
) %>%
mutate(date = mdy(date))
glimpse(china)
china <- left_join(
china_confirmed,
china_death,
by = c("date", "Province/State")
) %>%
mutate(date = mdy(date))
hubei <- china %>%
filter(`Province/State` == "Hubei")
View(china)
china1 <- china %>%
group_by(date) %>%
summarise(confirmed = sum(confirmed),
death = sum(death))
View(china1)
china1 <- china %>%
group_by(date) %>%
summarise(confirmed = sum(confirmed),
death = sum(death)) %>%
ungroup() %>%
mutate(death_rate = death/confirmed)
View(china1)
View(china_confirmed)
View(china_confirmed)
china_confirmed <- confirmed %>%
filter(`Country/Region` == "Mainland China") %>%
select(-c(`Country/Region`, Lat, Long)) %>%
pivot_longer(-`Province/State`,
names_to = "date",
values_to = "confirmed_cum") %>%
rename(province = `Province/State`)
View(china_confirmed)
china_confirmed <- confirmed %>%
filter(`Country/Region` == "Mainland China") %>%
select(-c(`Country/Region`, Lat, Long)) %>%
pivot_longer(-`Province/State`,
names_to = "date",
values_to = "confirmed_cum") %>%
rename(province = `Province/State`) %>%
group_by(province) %>%
mutate(confirmed_daily = confirmed_cum - lag(confirmed_cum))
View(china_confirmed)
china_confirmed <- confirmed %>%
filter(`Country/Region` == "Mainland China") %>%
select(-c(`Country/Region`, Lat, Long)) %>%
pivot_longer(-`Province/State`,
names_to = "date",
values_to = "confirmed_cum") %>%
rename(province = `Province/State`) %>%
group_by(province) %>%
mutate(confirmed_daily = confirmed_cum - lag(confirmed_cum),
confirmed_daily = replace_na(confirmed_daily, 0))
china_death <- death %>%
filter(`Country/Region` == "Mainland China") %>%
select(-c(`Country/Region`, Lat, Long)) %>%
pivot_longer(-`Province/State`,
names_to = "date",
values_to = "death_cum") %>%
group_by(province) %>%
mutate(death_daily = death_cum - lag(death_cum),
death_daily = replace_na(death_daily, 0))
china_death <- death %>%
filter(`Country/Region` == "Mainland China") %>%
select(-c(`Country/Region`, Lat, Long)) %>%
pivot_longer(-`Province/State`,
names_to = "date",
values_to = "death_cum") %>%
rename(province = `Province/State`) %>%
group_by(province) %>%
mutate(death_daily = death_cum - lag(death_cum),
death_daily = replace_na(death_daily, 0))
View(china_death)
china <- left_join(
china_confirmed,
china_death,
by = c("date", "Province/State")
) %>%
mutate(date = mdy(date))
china_confirmed <- confirmed %>%
filter(`Country/Region` == "Mainland China") %>%
select(-c(`Country/Region`, Lat, Long)) %>%
pivot_longer(-`Province/State`,
names_to = "date",
values_to = "confirmed_cum") %>%
rename(province = `Province/State`) %>%
group_by(province) %>%
mutate(confirmed_daily = confirmed_cum - lag(confirmed_cum),
confirmed_daily = replace_na(confirmed_daily, 0))
china_death <- death %>%
filter(`Country/Region` == "Mainland China") %>%
select(-c(`Country/Region`, Lat, Long)) %>%
pivot_longer(-`Province/State`,
names_to = "date",
values_to = "death_cum") %>%
rename(province = `Province/State`) %>%
group_by(province) %>%
mutate(death_daily = death_cum - lag(death_cum),
death_daily = replace_na(death_daily, 0))
china <- left_join(
china_confirmed,
china_death,
by = c("date", "Province/State")
)
china <- left_join(
china_confirmed,
china_death,
by = c("date", "province")
) %>%
mutate(date = mdy(date))
View(china)
ggplot(china, aes(x = date, y = confirmed_cum)) +
geom_line()
glimpse(china)
ggplot(china, aes(x = date, y = confirmed_cum)) +
geom_line()
china1 <- china %>%
group_by(date) %>%
summarise(confirmed_cum = sum(confirmed_cum),
death_cum = sum(death_cum)) %>%
ungroup()
View(china1)
china1 <- china %>%
group_by(date) %>%
summarise(confirmed_cum = sum(confirmed_cum),
death_cum = sum(death_cum)) %>%
ungroup() %>%
mutate(death_rate = death_cum/confirmed_cum)
ggplot(china1, aes(x = date, y = confirmed_cum)) +
geom_line()
ggplot() +
geom_line(data = china1, aes(x = date, y = confirmed_cum)) +
geom_line(data = china1, aes(x = date, y = death_cum)) +
hubei <- china %>%
filter(`Province/State` == "Hubei")
View(china1)
ggplot() +
geom_line(data = china1, aes(x = date, y = confirmed_cum)) +
geom_line(data = china1, aes(x = date, y = death_cum))
china1 <- china %>%
group_by(date) %>%
summarise(confirmed_cum = sum(confirmed_cum),
confirmed_daily = sum(confirmed_daily),
death_cum = sum(death_cum),
death_daily = sum(death_daily)) %>%
ungroup() %>%
mutate(death_rate = death_cum/confirmed_cum)
View(china1)
ggplot() +
geom_line(data = china1, aes(x = date, y = confirmed_daily)) +
geom_line(data = china1, aes(x = date, y = death_daily))
